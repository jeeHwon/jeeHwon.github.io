---
title: Swift 생성자 & 소멸자 살펴보기
author: kenjee
date: 2025-03-01 12:00:00 +09:00
categories: [iOS]
tags: [Swift, Initializer, Deinitializer]
---

# Swift 생성자 & 소멸자 살펴보기

Swift에서 객체가 생성되고 소멸되는 과정은 코드의 안정성과 성능에 큰 영향을 준다. 특히 **클래스와 구조체의 차이**로 인해 생성자와 소멸자의 동작 방식이 다르다. 이번 포스팅에서는 **지정 생성자, 편의 생성자, 필수 생성자, 실패 가능 생성자, 소멸자**의 개념을 정리하고, 왜 **구조체에서는 소멸자가 필요하지 않은지**에 대하여 알아본다.

---

## 1️⃣. 생성자, 인스턴스가 태어나는 과정  
### 생성자(Initializer)란?  
Swift에서 객체를 생성하려면 반드시 초기화를 해야 한다. **생성자(Initializer, `init`)는 인스턴스를 초기화하는 역할**을 하며, 모든 저장 속성에 유효한 값을 할당해야 한다. 생성자는 함수처럼 보이지만 반환 값을 가지지 않으며, 인스턴스가 생성될 때 자동으로 호출된다.

### 생성자가 필수적인 이유  
- **모든 저장 속성이 초기화되지 않으면 객체가 유효하지 않음**
- **객체 생성과 동시에 초기 상태를 설정해야 함**
- **클래스의 경우, 상속 관계에서 부모 클래스의 생성자 호출이 필요함**

### 구조체 vs 클래스: 초기화의 차이점  
구조체는 기본적으로 **멤버와이즈 초기화**를 제공하지만, 클래스는 반드시 생성자를 정의해야 한다. 또한, 클래스는 **상속(Inheritance)** 을 고려해야 하므로, 생성자의 동작이 조금 더 복잡하다.

---

## 2️⃣. 지정 생성자 vs 편의 생성자  
### 지정 생성자(Designated Initializer)  
지정 생성자는 객체의 **모든 저장 속성을 초기화하는 핵심적인 생성자**로, 클래스마다 최소 하나 이상 필요하다.
```swift
class Person {
    var name: String
    var age: Int
    
    init(name: String, age: Int) {
        self.name = name
        self.age = age
    }
}
```
### 편의 생성자(Convenience Initializer)  
편의 생성자는 기존의 지정 생성자를 호출하여 **초기화 과정을 단순화**한다.
```swift
class Person {
    var name: String
    var age: Int
    
    init(name: String, age: Int) {
        self.name = name
        self.age = age
    }
    
    convenience init(name: String) {
        self.init(name: name, age: 0) // 기본값 할당
    }
}
```
편의 생성자는 반드시 동일 클래스 내의 다른 생성자를 호출해야 하며, **지정 생성자를 대체할 수 없다**.

---

## 3️⃣. 필수 생성자(required) & 실패 가능 생성자(failable)  
### 필수 생성자(required)  
서브클래스에서 반드시 구현해야 하는 생성자로, `required` 키워드를 사용한다.
```swift
class Animal {
    var species: String
    
    required init(species: String) {
        self.species = species
    }
}

class Dog: Animal {
    required init(species: String) {
        super.init(species: species)
    }
}
```

### 실패 가능 생성자(failable initializer)  
객체 생성이 실패할 가능성이 있을 경우 `init?` 을 사용하여 nil을 반환할 수 있다.
```swift
struct Temperature {
    var celsius: Double
    
    init?(celsius: Double) {
        if celsius < -273.15 {
            return nil  // 절대온도 이하 불가능
        }
        self.celsius = celsius
    }
}
```

`init?`은 `nil`을 반환할 수 있으며, `init!`을 사용하면 강제 언래핑을 통해 실패할 경우 런타임 오류가 발생한다.

---

## 4️⃣. 소멸자(deinit), 왜 구조체에는 없을까?  
### 소멸자(deinitializer)의 역할  
`deinit`은 클래스의 인스턴스가 해제될 때 호출되며, 메모리를 정리하거나 외부 리소스를 정리할 때 사용된다.
```swift
class FileHandler {
    var fileName: String
    
    init(fileName: String) {
        self.fileName = fileName
        print("\(fileName) opened")
    }
    
    deinit {
        print("\(fileName) closed")
    }
}
```
### 클래스에서만 존재하는 이유: ARC와 연관성  
Swift의 클래스는 **자동 참조 카운트(ARC, Automatic Reference Counting)** 를 통해 메모리를 관리한다. 하지만 **구조체는 값 타입(value type)** 이므로, 참조 카운트가 필요하지 않으며 `deinit`이 필요하지 않다.

### 구조체에서는 소멸자가 필요 없는 이유  
- **구조체는 값 타입이라 ARC를 사용하지 않음**
- **스코프를 벗어나면 자동으로 메모리 해제됨**
- **별도의 리소스 정리가 필요하지 않음**

---

## 5️⃣. 생성자 & 소멸자, 제대로 활용하는 방법  
### 생성자 활용 시 주의할 점  
- **구조체의 멤버와이즈 이니셜라이저는 자동 제공되지만, 클래스는 직접 생성자 구현이 필요함**
- **지정 생성자는 필수, 편의 생성자는 보조 역할**
- **필수 생성자는 모든 서브클래스에서 구현되어야 함**

### 실패 가능 생성자를 활용한 안전한 객체 생성  
- 유효하지 않은 값이 입력될 경우 객체 생성 자체를 방지할 수 있다.

### `deinit`을 이용한 리소스 해제 Best Practice  
- 파일, 네트워크, 데이터베이스 연결 등 정리가 필요한 경우 반드시 `deinit`을 활용한다.

---

## ✨ 세줄 요약  
1. Swift의 생성자는 객체의 초기화를 책임지며, 지정 생성자와 편의 생성자로 나뉜다.  
2. 필수 생성자는 서브클래스에서 반드시 구현해야 하고, 실패 가능 생성자는 nil 반환이 가능하다.  
3. 소멸자는 ARC 관리가 필요한 클래스에서만 필요하며, 구조체에는 존재하지 않는다.
